# Waveform Editor: Current Behavior (Characterization)

- Time formatting
  - `_format_mmss(59.6) -> "01:00"` (round up edge at 59.6+)
  - `_format_mmss_with_fraction(0.0) -> "00:00.0"`
  - `_format_time(0.0) -> "00:00.0"`
- Envelope rendering
  - Envelope generated via min/max windows, length correlates with `overview_points`
  - Downsampling uses windowing; if not needed, uses original samples
- Region selection
  - Initial region [0.0, ~1.0]
  - Enforces minimum region duration >= `min_region_duration`
  - Optional snapping to RMS peaks and zero-crossings within `snap_tolerance`
- Bounds and zoom
  - Plot X range clamped to [0, duration]
  - Zoom in/out respects min range and duration
  - Fit all/region adjusts view range exactly
- PDF markers
  - Markers at cumulative PDF durations; color-coded by tolerance warn/fail
  - Tooltip shows formatted time and delta
- Audio loading
  - Extracts WAV from zip to temp file; reads with soundfile
  - Converts multi-channel to mono by mean; validates sample rate and data size
- Error handling
  - Missing zip/wav -> FileNotFoundError
  - Invalid data -> critical message and disables controls
- Cleanup
  - On close, stops player and deletes temp WAV
